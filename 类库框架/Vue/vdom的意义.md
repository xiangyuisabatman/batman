## 为什么频繁的DOM操作会性能差

**DOM引擎、JS引擎相互独立，但又工作在同一线程（主线程）**

JS代码调用DOM API必须挂起JS引擎、转换传入参数数据、激活DOM引擎，DOM重绘后再转换可能有的返回值，最后激活JS引擎并继续执行，若有频繁的DOM API调用，且浏览器厂商不做“批量处理”优化，引擎间切换的单位代价将迅速积累，若其中有强制重绘的DOM API调用，重新计算布局、重新绘制图像会引起更大的性能消耗。

## VDOM和真实DOM的区别和优化
1. 虚拟DOM不会立马进行排班与重绘操作
2. 虚拟DOM进行频繁修改，然后一次性比较并修改真实DOM中需要改的部分，最后在真实DOM中进行排班与重绘，减少过多DOM节点排班与重绘损耗
3. 虚拟DOM有效降低大面积真实DOM的重绘与排班，因为最终与真实DOM比较差异，可以只渲染局部