v8实现了准确式GC,GC算法采用了分代式垃圾回收机制.因此,v8把内存分为新生代和老生代两部分.
- 新生代算法: 分为from和to两部分,在这两个空间内,一定有一个是使用的一个是空闲的,新分配的对象会被放入from空间内,当from空间被占满时,新生代GC就会启动.算法会检查from空间中存活的对象并复制到to空间中, 如果失活则会被销毁.当复制完成后from和to交换.
- 老生代算法: 一般存活时间较长且数量较多,使用了两种算法: 标记清除算法和标记压缩算法.
    - 什么情况下出现在老生代空间中: 
        1. 新生代中的对象已经经历过一次GC算法,并且存活
        2. 新生代to的对象占比大小超过25%
    - 什么情况会先启动标记清除算法
        1. 某一个空间没有分块的情况
        2. 空间中对象超过一定限制
        3. 空间不能保证新生代中的对象移动到老生代中
    - 标记消除算法过程: 遍历堆中所有的对象,然后标记活的对象,在标记完成后,销毁所有没有被标记的对象.
    - 标记压缩算法: 消除对象后会造成堆内存出现碎片的情况,当碎片超过一定限制后会启动压缩算法.在压缩过程中,将活的对象像一端移动,直到所有对象都移动完成然后清理掉不需要的内存