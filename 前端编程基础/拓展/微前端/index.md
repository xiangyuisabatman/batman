## 什么是微前端
其思想是将前端应用切分为一系列可以单独部署的松耦合的应用，然后将这些应用组装起来创建单个面向用户的应用程序。

## 优势
1. 单独的服务单独部署
2. 团队自己进行迭代和更新
3. 围绕业务单元和产品单独组织团队

## 缺点
1. 需要在开发中运行许多不同的应用程序以测试完成的体验
2. 跟踪和调试问题需要跨全部系统
3. 跨系统进行版本控制

## 痛点
1. 每个团队都有自己的选择，浏览器最终可能会下载多个框架和重复的代码
2. 用户不会单独体验你的公司网站或者产品。
3. 微前端的某些实现（尤其是嵌入iframe的实现）可能会带来巨大的可访问性的挑战。

## 实现方式与框架对比
| 方案 | 实现 | 优势 | 缺点 |
| 基于nginx的路由分发 | 根据路由前缀的不同将用户的请求指向不同的HTML入口文件 | 实现简单，且各个子系统可以采用完全不同的技术栈 | 页面跳转时，可能会闪动、白屏，无法做到单页面应用的体验；新系统加入时，需要修改线上nginx配置，风险较大 |
| Iframe嵌入 | 在现有系统中直接嵌入Iframe | 实现简单、子系统加载时依然保持单页应用体验 | 页面刷新之后，无法保持子系统当前的路由状态；Iframe的适配存在一定的问题 |
| 智能运营平台方案|按模块对系统进行拆分。各个模块独立开发、构建、部署，在运行时，通过hash值的改变对子模块进行按需加载|保证单页面应用|本质上还是一个单页面应用|
|SingleSPA|异步加载子系统的入口文件，并动态为子系统创建挂载点，Bifrost也参考了它的实现方式|目前唯一落地的真正的微前端框架，可以做到技术栈无关|子系统之前联调困难，需要修改目前的部署流程|
|Bifrost（美团）|按模块对系统进行拆分。各个模块独立开发、构建、部署，在运行时，通过Webpack动态加载的方式进行集成。|能够保证单页应用的体验，且经过多次迭代，已经是一个经过生产验证的成熟解决方案。|本质上还是一个单页应用，各个子模块无法独立运行；同其他子系统进行联调的成本较高；新增子系统需要修改Nginx配置，存在一定风险。|



1. SingleSPA和Bifrost通过主系统和子系统进行管理。采用路由消息分发的方式来控制子系统的加载和跳转。主系统维护了一条路由消息总线，当路由发生变化时，子系统会将路由事件推送给路由总线，然后由路由总线决定加载/跳转的目标子系统。如果路由不需要切换子系统，则交由当前子系统进行处理。
2. 智能运营平台：基座模块base，通用组件方法模块frame，其他的模块依赖于这两个模块。基座模块Vue，Vuerouter，Element，总路由总线；frame模块封装的通用组件和方法。其他子模块通过基座组件暴露出的封装的路由方法，将子模块的路由添加到路由总线中。
3. 处理静态资源，通过copyplugin复制static资源。


## 当前微前端可以改进的方面
1. 将基座模块和通用组件模块抽离，这样在运行多个模块时，可以共用一个基座模块和通用组件模块。